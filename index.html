<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Dream Art â€” Ğ¢Ğ²Ğ¾Ñ Ğ˜Ğ˜ Ğ¡Ñ‚ÑƒĞ´Ğ¸Ñ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: radial-gradient(circle at top, #0f172a, #1e293b, #000000);
            min-height: 100vh;
            color: white;
            font-family: 'Inter', sans-serif;
        }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
        }
        .neon-border {
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.4);
        }
        .loader {
            border: 3px solid rgba(255,255,255,0.1);
            border-top: 3px solid #38bdf8;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .gallery-item {
            transition: transform 0.3s ease;
        }
        .gallery-item:hover { transform: scale(1.05); }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-4xl mx-auto">
        <div class="glass p-6 md:p-10 shadow-2xl mb-8">
            <header class="text-center mb-8">
                <h1 class="text-4xl font-extrabold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300">
                    AI DREAM ART
                </h1>
                <p class="text-slate-400 text-sm mt-2 font-light">Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑˆĞµĞ´ĞµĞ²Ñ€Ğ¾Ğ² 24/7</p>
            </header>

            <div class="flex flex-col gap-4">
                <input type="text" id="promptInput" 
                    placeholder="ĞĞ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ñ‡Ñ‚Ğ¾ Ğ½Ğ°Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ñ‚ÑŒ (Ğ½Ğ° Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¾Ğ¼)..." 
                    class="w-full bg-slate-900/50 border border-slate-700 rounded-xl p-4 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all">
                
                <button onclick="generateImage()" id="genBtn" class="w-full bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-500 hover:to-cyan-400 p-4 rounded-xl font-bold transition-all active:scale-95 shadow-lg">
                    Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ
                </button>
            </div>

            <div class="mt-10 flex flex-col items-center">
                <div id="loader" class="loader mb-4"></div>
                <img id="resultImage" src="https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=1000" 
                    class="rounded-2xl shadow-2xl max-h-[500px] w-full object-cover neon-border">
            </div>
        </div>

        <div class="glass p-4 mb-8 text-center border-dashed border-blue-500/30">
            <p class="text-xs text-slate-500 mb-2 uppercase tracking-widest">Sponsored Content</p>
            <div id="ad-space">
                <p class="text-blue-300/40 text-sm">ĞœĞµÑÑ‚Ğ¾ Ğ´Ğ»Ñ Ñ‚Ğ²Ğ¾ĞµĞ³Ğ¾ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ°</p>
            </div>
        </div>

        <div class="glass p-6">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                <span class="w-2 h-2 bg-blue-500 rounded-full"></span> Ğ’Ğ°ÑˆĞ° Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ
            </h3>
            <div id="gallery" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                </div>
        </div>

        <footer class="mt-10 text-center text-slate-500 text-xs">
            <p>&copy; 2026 AI Dream Art Studio. Ğ’ÑĞµ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ñ‹.</p>
        </footer>
    </div>

    <script>
    const gallery = document.getElementById('gallery');
    const MAX_GALLERY = 8;
    const COOLDOWN_MS = 10000; // 10 ÑĞµĞºÑƒĞ½Ğ´

    let isGenerating = false;
    let lastGeneratedTime = 0;

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ³Ğ°Ğ»ĞµÑ€ĞµĞ¸ Ğ¸Ğ· localStorage Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function loadGallery() {
        const saved = localStorage.getItem('aiDreamArtGallery');
        if (saved) {
            const urls = JSON.parse(saved);
            gallery.innerHTML = ''; // Ğ¾Ñ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ Ğ½Ğ° Ğ²ÑÑĞºĞ¸Ğ¹ ÑĞ»ÑƒÑ‡Ğ°Ğ¹
            urls.forEach(url => addToGallery(url, false)); // false = Ğ½Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑŒ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾
        }
    }

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ + ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² localStorage
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function addToGallery(url, save = true) {
        const div = document.createElement('div');
        div.className = 'gallery-item';
        div.innerHTML = `
            <img src="${url}" 
                 class="rounded-lg shadow-lg cursor-pointer hover:opacity-80 transition-all w-full aspect-square object-cover"
                 onclick="window.open('${url}', '_blank')">
        `;
        gallery.prepend(div);

        // Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ Ğ»Ğ¸ÑˆĞ½Ğ¸Ğµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹
        while (gallery.children.length > MAX_GALLERY) {
            gallery.lastChild.remove();
        }

        if (save) {
            saveGallery();
        }
    }

    function saveGallery() {
        const urls = Array.from(gallery.querySelectorAll('img')).map(img => img.src);
        localStorage.setItem('aiDreamArtGallery', JSON.stringify(urls));
    }

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function generateImage() {
        const now = Date.now();

        if (isGenerating) return;

        if (now - lastGeneratedTime < COOLDOWN_MS) {
            const secLeft = Math.ceil((COOLDOWN_MS - (now - lastGeneratedTime)) / 1000);
            alert(`ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸ ĞµÑ‰Ñ‘ ${secLeft} ÑĞµĞº â€” ÑĞµÑ€Ğ²ĞµÑ€Ñƒ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ´Ğ¾Ñ…Ğ½ÑƒÑ‚ÑŒ ğŸŒ™`);
            return;
        }

        const promptInput = document.getElementById('promptInput');
        const prompt = promptInput.value.trim();

        if (!prompt) {
            alert('ĞĞ°Ğ¿Ğ¸ÑˆĞ¸, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ!');
            return;
        }

        // Ğ›Ñ‘Ğ³ĞºĞ°Ñ Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ° Ğ¿Ñ€Ğ¾ Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº
        if (/[Ğ°-ÑĞ-Ğ¯Ñ‘Ğ]{3,}/.test(prompt)) {
            if (!confirm('ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚ â€” Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ñ…ÑƒĞ¶Ğµ. ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ?')) {
                return;
            }
        }

        isGenerating = true;
        lastGeneratedTime = now;

        const btn = document.getElementById('genBtn');
        const img = document.getElementById('resultImage');
        const loader = document.getElementById('loader');

        btn.disabled = true;
        btn.innerText = 'Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒÑ ÑˆĞµĞ´ĞµĞ²Ñ€...';
        loader.style.display = 'block';
        img.style.opacity = '0.5';

        const seed = Math.floor(Math.random() * 999999);
        const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?width=1080&height=1080&seed=${seed}&nologo=true`;

        const tempImg = new Image();
        tempImg.src = imageUrl;

        // Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ²ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ
        const timeoutId = setTimeout(() => {
            if (isGenerating) {
                alert('Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ´Ğ¾Ğ»Ğ³Ğ¾ Ğ¸Ğ´Ñ‘Ñ‚. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹ ĞµÑ‰Ñ‘ Ñ€Ğ°Ğ· Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚.');
                finish();
            }
        }, 30000);

        tempImg.onload = () => {
            clearTimeout(timeoutId);

            // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ÑƒÑ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºÑƒ Ğ² Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ (ĞµÑĞ»Ğ¸ ÑÑ‚Ğ¾ Ğ½Ğµ Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)
            if (img.src && !img.src.includes('unsplash')) {
                addToGallery(img.src);
            }

            img.src = imageUrl;
            img.style.opacity = '1';
            finish();
        };

        tempImg.onerror = () => {
            clearTimeout(timeoutId);
            alert('ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚.');
            finish();
        };

        function finish() {
            loader.style.display = 'none';
            btn.disabled = false;
            btn.innerText = 'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ';
            isGenerating = false;
        }
    }

    // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
    window.addEventListener('load', () => {
        loadGallery();
    });
</script>
</body>
</html>
