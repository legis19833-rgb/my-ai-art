<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Dream Art ‚Äî –¢–≤–æ—è –ò–ò –°—Ç—É–¥–∏—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: radial-gradient(circle at top, #0f172a, #1e293b, #000000);
            min-height: 100vh;
            color: white;
            font-family: 'Inter', sans-serif;
        }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
        }
        .neon-border {
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.4);
        }
        .loader {
            border: 3px solid rgba(255,255,255,0.1);
            border-top: 3px solid #38bdf8;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .gallery-item {
            transition: transform 0.3s ease;
        }
        .gallery-item:hover { transform: scale(1.05); }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-4xl mx-auto">
        <div class="glass p-6 md:p-10 shadow-2xl mb-8">
            <header class="text-center mb-8">
                <h1 class="text-4xl font-extrabold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300">
                    AI DREAM ART
                </h1>
                <p class="text-slate-400 text-sm mt-2 font-light">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —à–µ–¥–µ–≤—Ä–æ–≤ 24/7</p>
            </header>

            <div class="flex flex-col gap-4">
                <input type="text" id="promptInput" 
                    placeholder="–û–ø–∏—à–∏—Ç–µ —á—Ç–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å (–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)..." 
                    class="w-full bg-slate-900/50 border border-slate-700 rounded-xl p-4 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all">
                
                <button onclick="generateImage()" id="genBtn" class="w-full bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-500 hover:to-cyan-400 p-4 rounded-xl font-bold transition-all active:scale-95 shadow-lg">
                    –°–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                </button>
            </div>

            <div class="mt-10 flex flex-col items-center">
                <div id="loader" class="loader mb-4"></div>
                <img id="resultImage" src="https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=1000" 
                    class="rounded-2xl shadow-2xl max-h-[500px] w-full object-cover neon-border">
            </div>
        </div>

        <div class="glass p-4 mb-8 text-center border-dashed border-blue-500/30">
            <p class="text-xs text-slate-500 mb-2 uppercase tracking-widest">Sponsored Content</p>
            <div id="ad-space">
                <p class="text-blue-300/40 text-sm">–ú–µ—Å—Ç–æ –¥–ª—è —Ç–≤–æ–µ–≥–æ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞</p>
            </div>
        </div>

        <div class="glass p-6">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                <span class="w-2 h-2 bg-blue-500 rounded-full"></span> –í–∞—à–∞ –≥–∞–ª–µ—Ä–µ—è
            </h3>
            <div id="gallery" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                </div>
        </div>

        <footer class="mt-10 text-center text-slate-500 text-xs">
            <p>&copy; 2026 AI Dream Art Studio. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </footer>
    </div>

    <script>
        const gallery = document.getElementById('gallery');

        let isGenerating = false;
const COOLDOWN_MS = 10000; // 10 —Å–µ–∫—É–Ω–¥
let lastGeneratedTime = 0;

async function generateImage() {
    const now = Date.now();
    if (isGenerating) return;
    if (now - lastGeneratedTime < COOLDOWN_MS) {
        const secLeft = Math.ceil((COOLDOWN_MS - (now - lastGeneratedTime)) / 1000);
        alert(`–ü–æ–¥–æ–∂–¥–∏ –µ—â—ë ${secLeft} —Å–µ–∫ ‚Äî —Å–µ—Ä–≤–µ—Ä—É –Ω—É–∂–Ω–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å üòÖ`);
        return;
    }

    const prompt = document.getElementById('promptInput').value.trim();
    if (!prompt) {
        alert('–ù–∞–ø–∏—à–∏, —á—Ç–æ —Ö–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å!');
        return;
    }
    if (/[–∞-—è–ê-–Ø—ë–Å]{4,}/.test(prompt)) {
        if (!confirm('–ü—Ä–æ–º–ø—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–∞–Ω–Ω—ã–º. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) {
            return;
        }
    }

    isGenerating = true;
    lastGeneratedTime = now;

    const btn = document.getElementById('genBtn');
    const img = document.getElementById('resultImage');
    const loader = document.getElementById('loader');

    btn.disabled = true;
    btn.innerText = '–ì–µ–Ω–µ—Ä–∏—Ä—É—é...';
    loader.style.display = 'block';
    img.style.opacity = '0.5';

    const seed = Math.floor(Math.random() * 999999);
    const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?width=1080&height=1080&seed=${seed}&nologo=true`;

    const tempImg = new Image();
    tempImg.src = imageUrl;

    // –¢–∞–π–º–∞—É—Ç –Ω–∞ —Å–ª—É—á–∞–π –∑–∞–≤–∏—Å–∞–Ω–∏—è
    const timeout = setTimeout(() => {
        if (isGenerating) {
            alert('–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω—è–ª–∞ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.');
            finishLoading();
        }
    }, 30000);

    tempImg.onload = () => {
        clearTimeout(timeout);
        if (img.src && !img.src.includes('unsplash')) {
            addToGallery(img.src);
        }
        img.src = imageUrl;
        img.style.opacity = '1';
        finishLoading();
    };

    tempImg.onerror = () => {
        clearTimeout(timeout);
        alert('–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É. –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π –ø—Ä–æ–º–ø—Ç.');
        finishLoading();
    };

    function finishLoading() {
        loader.style.display = 'none';
        btn.disabled = false;
        btn.innerText = '–°–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ';
        isGenerating = false;
    }
}
        
        async function generateImage() {
            const promptInput = document.getElementById('promptInput');
            const btn = document.getElementById('genBtn');
            const img = document.getElementById('resultImage');
            const loader = document.getElementById('loader');

            const prompt = promptInput.value.trim();

            if (!prompt) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º!');
                return;
            }

            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            btn.disabled = true;
            btn.innerText = '–†–∏—Å—É—é —à–µ–¥–µ–≤—Ä...';
            loader.style.display = 'block';
            img.style.opacity = '0.5';

            const seed = Math.floor(Math.random() * 999999);
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π URL –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
            const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?width=1080&height=1080&seed=${seed}&nologo=true`;

            // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏
            const tempImg = new Image();
            tempImg.src = imageUrl;

            tempImg.onload = () => {
                // –î–æ–±–∞–≤–ª—è–µ–º –ü–†–ï–î–´–î–£–©–£–Æ –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –≥–∞–ª–µ—Ä–µ—é
                if (img.src && !img.src.includes('unsplash')) {
                    addToGallery(img.src);
                }

                // –°—Ç–∞–≤–∏–º –Ω–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É
                img.src = imageUrl;
                img.style.opacity = '1';
                loader.style.display = 'none';
                btn.disabled = false;
                btn.innerText = '–°–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ';
            };

            tempImg.onerror = () => {
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–º—Ç.');
                loader.style.display = 'none';
                btn.disabled = false;
                btn.innerText = '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å';
            };
        }

        function addToGallery(url) {
            const div = document.createElement('div');
            div.className = 'gallery-item';
            div.innerHTML = `<img src="${url}" class="rounded-lg shadow-lg cursor-pointer hover:opacity-80 transition-all" onclick="window.open('${url}', '_blank')">`;
            gallery.prepend(div);
            
            if (gallery.children.length > 8) gallery.lastChild.remove();
        }
    </script>
</body>
</html>
